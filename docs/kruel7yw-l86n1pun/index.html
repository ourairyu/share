<!DOCTYPE html> <html lang="zh-CN" dir="ltr"> <head> <meta charset="UTF-8"> <!-- SEO --> <title>配置驱动中后台前端应用开发框架</title> <meta property="og:title" content="配置驱动中后台前端应用开发框架"> <meta name="description" content="项目安排"> <meta property="og:description" content="项目安排"> <link rel="canonical" href="https://ourai.ws/docs/kruel7yw-l86n1pun/"> <meta property="og:url" content="https://ourai.ws/docs/kruel7yw-l86n1pun/"> <meta property="og:site_name" content="欧雷共享的内容"> <script type="application/ld+json"> { "@context" : "http://schema.org", "@type" : "WebSite", "name" : "欧雷共享的内容", "url" : "https://ourai.ws" } </script> <meta property="og:type" content="article"> <meta property="article:published_time" content="2021-08-02T17:01:35+08:00"> <link rel="next" href="https://ourai.ws/docs/kx8brzkg-l9ig51rk/" title="机器人工厂问答库配置化改造"> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "NewsArticle", "headline": "配置驱动中后台前端应用开发框架", "image": null, "datePublished": "2021-08-02T17:01:35+08:00", "description": "项目安排" } </script> <link rel="author" href="https://ourai.ws"> <!-- 页面渲染兼容性 --> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="renderer" content="webkit"> <meta name="viewport" content="width=device-width,initial-scale=1.0"> <!-- 订阅 --> <link type="application/atom+xml" rel="alternate" href="https://ourai.ws/atom.xml" title="欧雷流" /> <meta name="theme-color" content="#0871ab"> <link type="application/rss+xml" rel="alternate" href="//share.ourai.ws/rss.xml" title="欧雷共享的内容"> <!-- 站点 icon --> <link rel="icon" href="/assets/favicon-3e749ca030e3b71eb2662d947c789061d2da9e0f4ee5f3360cfa9ccbe053c8ba.ico"> <!-- 静态资源 --> <link type="text/css" rel="stylesheet" href="/assets/disqusjs.min-b077139304675330d06888b873bd88158951637593a3c17c4674bc855caf71af.css"> <link type="text/css" rel="stylesheet" href="/assets/global-cf407110a040e90d8729159566aed4aaf5b58023447f098d688501887e91f510.css"> <link type="text/css" rel="stylesheet" href="/assets/pages/post-d5f1244d69bfc31e3c7b73b16140ed8a09f0b5af40515abeae522bee80e92ec9.css"><link type="text/css" rel="stylesheet" href="/assets/pages/doc-15661195aff8193ee3a0adaa519b494768847c03556ce215fa6c17d46d273872.css"> <script type="text/javascript" src="/assets/global-b3a80dd53acf48ad7228d6fd741dba15d3845cbc3783bdbbf7244151a45628aa.js"></script> <!--[if lt IE 9]> <script type="text/javascript" src="/assets/support_ie8-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.js"></script> <![endif]--> </head> <body class="Page" itemscope itemtype="http://schema.org/WebPage"> <main class="Page-content"> <div id="sharedDoc" class="container"> <p style="height: 100%; display: flex; align-items: center; justify-content: center; font-size: 8rem;">🙅🏻‍♂️</p> </div> </main> <ourai-doc id="__ourai_doc__" style="display: none;" data-code="b7sd"> <article class="Page-main Article"> <header class="Article-header"> <h1 class="Article-title">配置驱动中后台前端应用开发框架</h1> <p><a href="https://ourai.ws/people/ourai/" target="_blank" ref="external nofollow">欧雷</a> 发表于 <time datetime="2021-08-02T17:01:35+08:00">2021-08-02 17:01:35</time></p> </header> <div class="Article-content col-md-9"><h2 id="section">项目安排</h2> <h3 id="section-1">概览</h3> <table> <thead> <tr> <th>项目</th> <th>内容</th> </tr> </thead> <tbody> <tr> <td>时间</td> <td>-</td> </tr> <tr> <td>优先级</td> <td>-</td> </tr> <tr> <td>人员</td> <td>前端：<a href="https://yaol.in/" title="查看林垚的个人主页" target="_blank" rel="external nofollow">林垚</a></td> </tr> </tbody> </table> <h3 id="section-2">任务</h3> <h4 id="section-3">未归类</h4> <ul> <li><input type="checkbox" disabled="" /> 要统一路由配置结构</li> <li><input type="checkbox" disabled="" /> Email 字段部件</li> <li><input type="checkbox" disabled="" /> 生成上下文合并视图字段/过滤器和模型字段信息时的合并策略有问题，如枚举字段的 <code>options</code>，可能需要支持定义对象和数组的合并策略</li> <li><input type="checkbox" disabled="" /> 字段的值处理应该增加更多扩展点以更好更方便地自定义</li> <li><input type="checkbox" disabled="" /> 列表类视图需要单个条目的模板进行迭代渲染</li> <li><input type="checkbox" disabled="" /> 嵌入列表视图在宿主组件反复更新时「相同」请求会发出多次</li> <li><input type="checkbox" disabled="" /> 字段/过滤器与对象值的默认值读写逻辑</li> <li><input type="checkbox" disabled="" /> 需要思考下与登录和权限相关的功能如何抽象</li> <li><input type="checkbox" disabled="" /> 需要思考下动态参数路由信息如何抽象</li> <li><input type="checkbox" disabled="" /> 过滤器部件需要知道所在搜索部件是否强制使用某种值提交策略</li> <li><input type="checkbox" disabled="" /> 视图名默认根据模块名与视图类别生成</li> <li><input type="checkbox" disabled="" checked="" /> 将 <code>config</code> 中非特殊 key 透传给 UI 组件</li> <li><input type="checkbox" disabled="" /> 枚举多选下拉列表字段部件</li> <li><input type="checkbox" disabled="" /> 字符串多选下拉列表字段部件</li> <li><input type="checkbox" disabled="" /> 模块描述器支持 <code>label</code> 属性</li> <li><input type="checkbox" disabled="" /> 主从列表（树）视图部件</li> <li><input type="checkbox" disabled="" /> 表格支持树形数据</li> <li><input type="checkbox" disabled="" /> 可选择/拾取过滤器部件值改变时理解重新查询的实现方式改造</li> <li><input type="checkbox" disabled="" /> 渲染器接收并透传 children</li> <li><input type="checkbox" disabled="" /> <code>getOne</code> 传参类型需要支持对象</li> <li><input type="checkbox" disabled="" /> 字段值类型校验时忽略 <code>null</code>（考虑字段描述器增加 <code>nullable</code> 属性控制）</li> <li><input type="checkbox" disabled="" /> 过滤器描述器可设置 <code>required</code> 用以表明某些查询条件是必要的</li> <li><input type="checkbox" disabled="" checked="" /> 将表格视图部件的一些较为通用的逻辑转移到基础列表视图部件上</li> <li><input type="checkbox" disabled="" checked="" /> 过滤条件留存策略之 URL 查询参数</li> <li><input type="checkbox" disabled="" /> 过滤条件留存策略之本地存储</li> <li><input type="checkbox" disabled="" /> 根据标记对请求统一「去重」处理的方案（忽略某次请求之后的「相同」请求或取消某次请求之前的「相同」请求）</li> <li><input type="checkbox" disabled="" /> 动作配置上的 <code>view</code> 如果不是 <code>模块名.views.视图名</code> 的格式时视为当前模块的视图，即用当前模块名进行拼接</li> <li><input type="checkbox" disabled="" /> 动作描述器增加 <code>type</code> 属性用以支持路由跳转（将路由抽象为一种类型的客户端动作）</li> <li><input type="checkbox" disabled="" checked="" /> 内置一些常用的客户端动作</li> <li><input type="checkbox" disabled="" /> 表单视图部件支持被嵌入时将表单值通过 <code>form-view-submit</code> 事件传给外部</li> <li><input type="checkbox" disabled="" /> 上下文增加生命周期以尽可能少地依赖 UI 组件而进行纯上下文编程，进而减少自定义部件</li> <li><input type="checkbox" disabled="" /> 视图描述器支持给 <code>getOne</code> 设置 <code>null</code> 以声明不查详情数据</li> <li><input type="checkbox" disabled="" /> 统一 HTTP 请求 API</li> <li><input type="checkbox" disabled="" /> 统一日期处理相关格式与 API</li> <li><input type="checkbox" disabled="" /> <code>createApp</code> 选项的 <code>metadata</code> 支持数据类型等</li> <li><input type="checkbox" disabled="" /> <code>createApp</code> 选项增加 <code>resolvers</code> 用于替代一些单独的内部依赖的 setter</li> <li><input type="checkbox" disabled="" /> 表单对话框部件支持 <code>readonly</code> 配置项</li> <li><input type="checkbox" disabled="" /> 对象视图描述器通过 <code>validate</code> 指定 <code>none</code> 时不进行值校验</li> <li><input type="checkbox" disabled="" /> 严格根据字段定义处理数据，没定义的或 <code>available</code> 计算值是 <code>false</code> 的就不进行各种校验，并且会从提交的数据里剔除掉</li> </ul> <h4 id="handieruntime-core"><code>@handie/runtime-core</code></h4> <ul> <li><input type="checkbox" disabled="" /> 视图、字段、搜索、过滤器支持提交时的值转换（converter）</li> <li><input type="checkbox" disabled="" checked="" /> 动作 <code>execute</code> 将 <code>config</code> 作为参数传入</li> </ul> <h4 id="handie-vue"><code>handie-vue</code></h4> <ul> <li><input type="checkbox" disabled="" checked="" /> 描述器的 <code>widget</code> 属性值为字符串时从模块依赖中找（需要再想想，考虑并确定部件的复用层级/规则）</li> <li><input type="checkbox" disabled="" /> 过滤器部件和搜索部件支持配置值改变自动刷新列表</li> </ul> <h5 id="handie-react-">需要与 <code>handie-react</code> 同步的地方</h5> <ul> <li><input type="checkbox" disabled="" checked="" /> 将部件的 <code>context</code> 具体化为 <code>$$view</code> 和 <code>$$search</code></li> </ul> <h4 id="handie-react"><code>handie-react</code></h4> <h4 id="handiebulbasaur"><code>@handie/bulbasaur</code></h4> <ul> <li><input type="checkbox" disabled="" /> 表单搜索部件支持输入条件改变立即搜索并且输入要 throttle</li> <li><input type="checkbox" disabled="" checked="" /> 表格视图部件行内按钮尺寸、样式可配置</li> <li><input type="checkbox" disabled="" checked="" /> 过滤器部件和字段部件宽度可配置</li> <li><input type="checkbox" disabled="" /> 编写部件 API 文档</li> </ul> <h4 id="handiesquirtle"><code>@handie/squirtle</code></h4> <ul> <li><input type="checkbox" disabled="" checked="" /> 修复表单部件没有 loading 状态</li> <li><input type="checkbox" disabled="" checked="" /> 弹出视图触发器的渲染类型应动态</li> </ul> <h2 id="section-4">需求分析</h2> <h3 id="section-5">交互流程结构化</h3> <p>交互流程包括界面交互与数据交互，将他们数据化、结构化以支持逻辑编排与可插拔扩展。</p> <p>可以参考<a href="../../../../../summarization/notes/2022/11/03-132346/readme.md" target="_blank" rel="external nofollow">状态机</a>？</p> <h4 id="section-6">数据交互</h4> <p>TBD</p> <h4 id="section-7">界面交互</h4> <p>自定义结构化的事件模型，并通过适配器与客户端宿主的事件模型相结合。</p> <p>需要满足以下几点：</p> <ul> <li>包含基本的描述性信息 <ul> <li>触发源 <ul> <li>客户端宿主的界面元素</li> </ul> </li> <li>触发方式 <ul> <li>客户端宿主的事件</li> </ul> </li> <li>作用目标</li> <li>状态转移</li> </ul> </li> <li>事件映射 <ul> <li>语义化（业务语义、交互语义）事件名与客户端宿主事件名转换</li> </ul> </li> <li>如何与数据交互的结合</li> <li>可利用类「<a href="https://en.wikipedia.org/wiki/Agent-oriented_programming" target="_blank" rel="external nofollow">切面</a>」的方式插拔式加入额外自定义逻辑 <ul> <li>用于用户使用情况的数据埋点</li> <li>用于软件质量的异常监控</li> <li>控制台调试信息输出</li> <li>RPA 测试</li> </ul> </li> </ul> </div> <footer class="Article-footer col-md-3"><section class="Widget Widget--toc"> <div class="Widget-header"> <h2 class="Widget-title">目录</h2> </div> <div class="Widget-body"></div> </section> </footer> </article> </ourai-doc> <script type="text/javascript" src="/assets/pages/doc-c880dc4660dee6b589b91fa90d96d4362f806002998d7fba77f76c8db76c973d.js"></script><script type="text/javascript" src="/assets/components-a266f21fe1dfd61bebf40e74872cbf901eb3e201f7d33e9e5d5af9a55f4b24ea.js"></script> <script type="text/javascript" src="/assets/initializers/time-8d7a529a66ae6cb53c2283d21fd6a12c538b8473dd5bd76458366d09adce7bf6.js"></script><script type="text/javascript" src="/assets/initializers/lazyload-44b7df8a9282d598284d522e64d6be9ac88d466f3c4a734a514303e99347b2c9.js"></script> </body> </html>
