<!DOCTYPE html> <html lang="zh-CN" dir="ltr"> <head> <meta charset="UTF-8"> <!-- SEO --> <title>æœºå™¨äººå·¥å‚é‡æ„ç¬¬äºŒæœŸ</title> <meta property="og:title" content="æœºå™¨äººå·¥å‚é‡æ„ç¬¬äºŒæœŸ"> <meta name="description" content="é¡¹ç›®å®‰æ’"> <meta property="og:description" content="é¡¹ç›®å®‰æ’"> <link rel="canonical" href="https://ourai.ws/docs/kpde9sg0-l96rfonc/"> <meta property="og:url" content="https://ourai.ws/docs/kpde9sg0-l96rfonc/"> <meta property="og:site_name" content="æ¬§é›·å…±äº«çš„å†…å®¹"> <script type="application/ld+json"> { "@context" : "http://schema.org", "@type" : "WebSite", "name" : "æ¬§é›·å…±äº«çš„å†…å®¹", "url" : "https://ourai.ws" } </script> <meta property="og:type" content="article"> <meta property="article:published_time" content="2021-06-01T10:01:12+08:00"> <link rel="next" href="https://ourai.ws/docs/kruel7yw-l86n1pun/" title="Handie"> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "NewsArticle", "headline": "æœºå™¨äººå·¥å‚é‡æ„ç¬¬äºŒæœŸ", "image": null, "datePublished": "2021-06-01T10:01:12+08:00", "description": "é¡¹ç›®å®‰æ’" } </script> <link rel="author" href="https://ourai.ws"> <!-- é¡µé¢æ¸²æŸ“å…¼å®¹æ€§ --> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="renderer" content="webkit"> <meta name="viewport" content="width=device-width,initial-scale=1.0"> <!-- è®¢é˜… --> <link type="application/atom+xml" rel="alternate" href="https://ourai.ws/atom.xml" title="æ¬§é›·æµ" /> <meta name="theme-color" content="#0871ab"> <link type="application/rss+xml" rel="alternate" href="//share.ourai.ws/rss.xml" title="æ¬§é›·å…±äº«çš„å†…å®¹"> <!-- ç«™ç‚¹ icon --> <link rel="icon" href="/assets/favicon-3e749ca030e3b71eb2662d947c789061d2da9e0f4ee5f3360cfa9ccbe053c8ba.ico"> <!-- é™æ€èµ„æº --> <link type="text/css" rel="stylesheet" href="/assets/disqusjs.min-b077139304675330d06888b873bd88158951637593a3c17c4674bc855caf71af.css"> <link type="text/css" rel="stylesheet" href="/assets/global-cf407110a040e90d8729159566aed4aaf5b58023447f098d688501887e91f510.css"> <link type="text/css" rel="stylesheet" href="/assets/pages/post-d5f1244d69bfc31e3c7b73b16140ed8a09f0b5af40515abeae522bee80e92ec9.css"> <script type="text/javascript" src="/assets/global-b3a80dd53acf48ad7228d6fd741dba15d3845cbc3783bdbbf7244151a45628aa.js"></script> <!--[if lt IE 9]> <script type="text/javascript" src="/assets/support_ie8-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.js"></script> <![endif]--> </head> <body class="Page" itemscope itemtype="http://schema.org/WebPage"> <main class="Page-content"> <div id="sharedDoc" class="container"> <p style="height: 100%; display: flex; align-items: center; justify-content: center; font-size: 8rem;">ğŸ™…ğŸ»â€â™‚ï¸</p> </div> </main> <ourai-doc id="__ourai_doc__" style="display: none;" data-code="3aap"> <article class="Page-main Article"> <header class="Article-header"> <h1 class="Article-title">æœºå™¨äººå·¥å‚é‡æ„ç¬¬äºŒæœŸ</h1> <p><a href="https://ourai.ws/people/ourai/" target="_blank" ref="external nofollow">æ¬§é›·</a> å‘è¡¨äº <time datetime="2021-06-01T10:01:12+08:00">2021-06-01 10:01:12</time></p> </header> <div class="Article-content col-md-9"><h2 id="section">é¡¹ç›®å®‰æ’</h2> <h3 id="section-1">æ¦‚è§ˆ</h3> <table> <thead> <tr> <th>é¡¹ç›®</th> <th>å†…å®¹</th> </tr> </thead> <tbody> <tr> <td>æ—¶é—´</td> <td>2021 å¹´ 6 æœˆ 1 æ—¥</td> </tr> <tr> <td>ä¼˜å…ˆçº§</td> <td>ä½</td> </tr> <tr> <td>äººå‘˜</td> <td>å‰ç«¯ï¼š<a href="https://yaol.in/" title="æŸ¥çœ‹æ—åšçš„ä¸ªäººä¸»é¡µ" target="_blank" rel="external nofollow">æ—åš</a></td> </tr> </tbody> </table> <h3 id="section-2">ä»»åŠ¡</h3> <p>å°†æœºå™¨äººå·¥å‚ä¸­éœ€è¦é…ç½®åŒ–çš„é¡µé¢åŠè¿›åº¦è¿›è¡Œæ•´ç†ã€‚</p> <h4 id="section-3">åˆ—è¡¨ç±»</h4> <table> <thead> <tr> <th>ä¸€çº§èœå•</th> <th>äºŒçº§/ä¸‰çº§èœå•</th> <th>æ¨¡å—</th> <th>è§†å›¾</th> <th>æ”¹é€ éš¾åº¦</th> <th>è¿›åº¦</th> <th>å¤‡æ³¨</th> </tr> </thead> <tbody> <tr> <td>è¯­æ–™åº“</td> <td>é¦–é¡µ</td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> </tr> <tr> <td>Â </td> <td>ä¸šåŠ¡é—®é¢˜åº“/ä¸šåŠ¡ç”¨æˆ·é—®é¢˜åº“ç®¡ç†</td> <td><code>high-frequency-question </code></td> <td><code>high-frequency-question-list </code></td> <td>Â </td> <td>å®Œæˆ</td> <td>Â </td> </tr> <tr> <td>Â </td> <td>ä¸šåŠ¡é—®é¢˜åº“/è¯­æ–™åˆ†æ/æŸ¥çœ‹åˆ†æç»“æœ</td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> </tr> <tr> <td>Â </td> <td>ä¸šåŠ¡é—®é¢˜åº“/æ™ºèƒ½æ ‡æ³¨</td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> </tr> <tr> <td>Â </td> <td>ä¸šåŠ¡é—®é¢˜åº“/æ— åŒ¹é…ç”¨æˆ·é—®é¢˜èšç±»</td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> </tr> <tr> <td>Â </td> <td>ä¸šåŠ¡é—®é¢˜åº“/è¯­æ–™ç²’åº¦ç®¡ç†/å•æ¡æ“ä½œ</td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> </tr> <tr> <td>Â </td> <td>ä¸šåŠ¡é—®é¢˜åº“/è¯­æ–™ç²’åº¦ç®¡ç†/è¯­æ–™å¯†åº¦</td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> </tr> <tr> <td>çŸ¥è¯†åº“</td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> </tr> <tr> <td>è¿ç»´</td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> </tr> <tr> <td>èµ„æº</td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> </tr> <tr> <td>æµ‹è¯•</td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> </tr> <tr> <td>æ›´å¤š</td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> <td>Â </td> </tr> </tbody> </table> <h2 id="section-4">éœ€æ±‚åˆ†æ</h2> <p>å°†ã€Šæœºå™¨äººå·¥å‚é‡æ„ç¬¬ä¸€æœŸã€‹ä¸­æœªå®Œæˆçš„éƒ¨åˆ†ä¸æ–°å‘ç°çš„é—®é¢˜è§£å†³ã€‚</p> <h3 id="section-5">æé«˜æ¨¡å—å†…èšæ€§</h3> <p>é€šè¿‡è°ƒæ•´ç›®å½•ç»“æ„å’Œæ¨¡å—ç³»ç»Ÿæ¥æé«˜å†…èšæ€§ã€‚</p> <h4 id="section-6">ç›®å½•ç»“æ„è°ƒæ•´</h4> <p>åŸºäºç°åœ¨çš„ç›®å½•ç»“æ„è°ƒæ•´åçš„ç»“æœå¤§ä½“å¦‚ä¸‹ï¼š</p> <figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>project/src
   â”œâ”€â”€ domain
   â”‚   â””â”€â”€ [domain-specific-module]
   â”‚       â”œâ”€â”€ views
   â”‚       â”‚   â”œâ”€â”€ [detail-view]
   â”‚       â”‚   â”‚   â”œâ”€â”€ [DetailViewComponent].vue
   â”‚       â”‚   â”‚   â”œâ”€â”€ ...
   â”‚       â”‚   â”‚   â””â”€â”€ style.scss
   â”‚       â”‚   â”œâ”€â”€ [form-view]
   â”‚       â”‚   â”‚   â”œâ”€â”€ [FormViewComponent].vue
   â”‚       â”‚   â”‚   â”œâ”€â”€ ...
   â”‚       â”‚   â”‚   â””â”€â”€ style.scss
   â”‚       â”‚   â””â”€â”€ [list-view]
   â”‚       â”‚       â”œâ”€â”€ [ListViewComponent].vue
   â”‚       â”‚       â”œâ”€â”€ ...
   â”‚       â”‚       â””â”€â”€ style.scss
   â”‚       â”œâ”€â”€ widgets
   â”‚       â”‚   â””â”€â”€ [domain-specific-widget]
   â”‚       â”‚       â””â”€â”€ ...
   â”‚       â”œâ”€â”€ helper.ts
   â”‚       â”œâ”€â”€ index.ts
   â”‚       â”œâ”€â”€ model.ts
   â”‚       â”œâ”€â”€ repository.ts
   â”‚       â””â”€â”€ ...
   â”œâ”€â”€ entry
   â”‚   â”œâ”€â”€ aspects
   â”‚   â”‚   â”œâ”€â”€ http.ts
   â”‚   â”‚   â”œâ”€â”€ router.ts
   â”‚   â”‚   â”œâ”€â”€ ...
   â”‚   â”‚   â””â”€â”€ index.ts
   â”‚   â”œâ”€â”€ layouts
   â”‚   â”‚   â””â”€â”€ ...
   â”‚   â””â”€â”€ router
   â”‚       â””â”€â”€ ...
   â”œâ”€â”€ shared
   â”‚   â””â”€â”€ ...
   â”œâ”€â”€ App.vue
   â””â”€â”€ main.ts</code></pre></figure> <p>è°ƒæ•´åçš„ <code>domain</code> æ–‡ä»¶å¤¹çš„å«ä¹‰ä¸å†æ˜¯ã€Œé¢†åŸŸå±‚ã€ï¼Œè€Œæ˜¯ã€Œé¢†åŸŸ/ä¸šåŠ¡æ¨¡å—ç»„ã€ã€‚</p> <p>è°ƒæ•´å‰åæ¨¡å—é—´ä¾èµ–å¯¹æ¯”ï¼š</p> <p><img src="/assets/docs/kpde9sg0-l96rfonc/layered-vs-modularized-6b6c6dd747167a62446c90eb37e9927200ff1c68a52106238bb3065430b530b8.png" alt="" /></p> <h4 id="section-7">æ¨¡å—æ³¨å†Œä¸æŸ¥æ‰¾æœºåˆ¶</h4> <p>è¿è¡Œæ—¶çš„æ¨¡å—ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥ä¼˜åŒ–ä¸ºç¼–è¯‘æ—¶ã€‚</p> <p>æ¨¡å—æè¿°ï¼š</p> <figure class="highlight"><pre><code class="language-ts" data-lang="ts"><span></span><span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;module-name&#39;</span><span class="p">,</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;[module-name].[resource-type].[resource-name]&#39;</span><span class="p">],</span>
  <span class="nx">exports</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;[resource-type]&#39;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s1">&#39;[resource-name]&#39;</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span></code></pre></figure> <p>è¯¥æè¿°ä¿¡æ¯ç”¨äºæ¨¡å—å†…æŸ¥æ‰¾è·å–ä¾èµ–ä»¥åŠåœ¨åº”ç”¨å…¥å£å¤„ç»Ÿä¸€æ³¨å†Œæ¨¡å—ã€‚</p> <p>æ ‡è¯†å«ä¹‰ï¼š</p> <ul> <li><code>[module-name]</code> æ˜¯æ¨¡å—åï¼›</li> <li><code>[resource-type]</code> æ˜¯èµ„æºç±»å‹ï¼Œç›®å‰åŒ…æ‹¬ <code>services</code>ï¼ˆè¯·æ±‚æœåŠ¡ï¼‰ã€<code>utils</code>ï¼ˆå·¥å…·å‡½æ•°ï¼‰å’Œ <code>widgets</code>ï¼ˆéƒ¨ä»¶/ä¸šåŠ¡ç»„ä»¶ï¼‰ï¼›</li> <li><code>[resource-name]</code> æ˜¯èµ„æºåç§°ã€‚</li> </ul> <p>ç¼ºé™·ï¼š</p> <ul> <li>ä¸€å®šç¨‹åº¦ä¸Šç ´åäº†ç±»å‹æ¨å¯¼ï¼Œå¯èƒ½éœ€è¦ç¼–å†™ VS Code æ’ä»¶è§£å†³ã€‚</li> </ul> <h3 id="section-8">è·¯ç”±é…ç½®è°ƒæ•´</h3> <p>å®šä¹‰å¹¶æ‰©å±• Vue Router çš„è·¯ç”±å…ƒä¿¡æ¯ï¼ˆ<code>meta</code> å±æ€§ï¼‰ï¼š</p> <figure class="highlight"><pre><code class="language-ts" data-lang="ts"><span></span><span class="kr">type</span> <span class="nx">RouteMeta</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">text?</span>: <span class="kt">string</span><span class="p">;</span>          <span class="c1">// èœå•æ–‡æœ¬å’Œé¡µé¢æ ‡é¢˜</span>
  <span class="nx">icon?</span>: <span class="kt">string</span><span class="p">;</span>          <span class="c1">// èœå•å›¾æ ‡</span>
  <span class="nx">show?</span>: <span class="kt">boolean</span><span class="p">;</span>         <span class="c1">// æ˜¯å¦åœ¨èœå•ä¸­æ˜¾ç¤ºï¼Œé»˜è®¤ä¸º `true`</span>
  <span class="nx">auth?</span>: <span class="kt">string</span><span class="p">[];</span>        <span class="c1">// è®¿é—®æƒé™æ ‡è¯†</span>
  <span class="nx">buildFor</span><span class="o">?:</span> <span class="s1">&#39;G&#39;</span> <span class="o">|</span> <span class="s1">&#39;B&#39;</span><span class="p">;</span>   <span class="c1">// B ç«¯æˆ– G ç«¯ï¼Œä¸æ ‡æ˜åˆ™åœ¨ä¸¤ç«¯éƒ½æœ‰</span>
<span class="p">};</span></code></pre></figure> <h4 id="section-9">èœå•æ ¹æ®è·¯ç”±é…ç½®ç”Ÿæˆ</h4> <p>æ ¹æ®è·¯ç”±é…ç½®çš„é¡ºåºå’Œå±‚çº§ä»¥åŠè·¯ç”±å…ƒä¿¡æ¯ç”Ÿæˆå¯¼èˆªèœå•ï¼ˆåŒ…æ‹¬é¡¶éƒ¨å’Œä¾§è¾¹æ ï¼‰ã€‚</p> <h4 id="section-10">è®¿é—®æƒé™æ§åˆ¶è°ƒæ•´</h4> <p>å°†åœ¨è·¯ç”±è·³è½¬æ—¶æ§åˆ¶æ”¹ä¸ºåœ¨å¸ƒå±€ä¸­æ¸²æŸ“æ—¶æ§åˆ¶ï¼Œæ— æƒé™è®¿é—®ä¸æ˜¯è·³è½¬åˆ°æ— æƒé™é¡µé¢è€Œæ˜¯åœ¨å½“å‰é¡µé¢æ¸²æŸ“æ— æƒé™ç»„ä»¶ã€‚</p> <h3 id="section-11">ç»„ä»¶åŠ¨æ€å¼•ç”¨</h3> <p>éƒ¨ä»¶/ä¸šåŠ¡ç»„ä»¶ã€è§†å›¾å’Œé¡µé¢ä¸­æ‰€ä¾èµ–çš„ç»„ä»¶ä»é€šè¿‡ <code>import</code> çš„é™æ€å¼•ç”¨æ”¹ä¸ºé€šè¿‡ä¸Šä¸‹æ–‡è·å–çš„åŠ¨æ€å¼•ç”¨ã€‚é€šè¿‡è¯¥æ–¹å¼å¼•ç”¨åŸºç¡€ç»„ä»¶å’Œå…¶ä»–æ¨¡å—å®šä¹‰çš„éƒ¨ä»¶/ä¸šåŠ¡ç»„ä»¶ã€‚</p> <p>æŸä¸ªæ¨¡å—å†…è¦ç”¨åˆ°çš„ç»„ä»¶éœ€è¦é€šè¿‡æ¨¡å—æè¿°è¿›è¡Œå£°æ˜ï¼š</p> <figure class="highlight"><pre><code class="language-ts" data-lang="ts"><span></span><span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;animation&#39;</span><span class="p">,</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="s1">&#39;common.widgets.TableView&#39;</span>
  <span class="p">],</span>
  <span class="nx">components</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">ElButton</span>: <span class="kt">true</span><span class="p">,</span> <span class="c1">// åŸºç¡€ç»„ä»¶</span>
    <span class="nx">TableView</span><span class="o">:</span> <span class="s1">&#39;common.widgets.TableView&#39;</span> <span class="c1">// å¯¹å…¶ä»–æ¨¡å—ä¸­å®šä¹‰çš„éƒ¨ä»¶/ä¸šåŠ¡ç»„ä»¶éœ€è¦å…ˆå¼•å…¥ï¼ˆä¸Šé¢çš„ `imports`ï¼‰å†å¼•ç”¨</span>
  <span class="p">}</span>
<span class="p">};</span></code></pre></figure> <p>è·å–ç»„ä»¶å¼•ç”¨ï¼š</p> <figure class="highlight"><pre><code class="language-html" data-lang="html"><span></span><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;TestWidget&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">el-button</span><span class="p">&gt;</span>åŸºç¡€ç»„ä»¶é‡Œçš„æŒ‰é’®<span class="p">&lt;/</span><span class="nt">el-button</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">table-view</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;ts&quot;</span><span class="p">&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Vue</span><span class="p">,</span> <span class="nx">Component</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;vue-property-decorator&#39;</span><span class="p">;</span>

<span class="k">import</span> <span class="nx">context</span> <span class="kr">from</span> <span class="s1">&#39;../../context&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">components</span><span class="o">:</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getComponents</span><span class="p">(),</span>
<span class="p">})</span>
<span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="nx">TestWidget</span> <span class="k">extends</span> <span class="nx">Vue</span> <span class="p">{}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></code></pre></figure> <h3 id="crud-">CRUD ç›¸å…³é¡µé¢é…ç½®åŒ–</h3> <p>å°†æ¨¡å¼åŒ–çš„ CRUD ç›¸å…³é¡µé¢é€šè¿‡é…ç½®åŠ¨æ€ç”Ÿæˆã€‚</p> <h4 id="section-12">åŒºåˆ†ã€Œé¡µé¢ã€ä¸ã€Œè§†å›¾ã€</h4> <p>æ›´ä¸ºä¸¥æ ¼åŒºåˆ†ã€Œé¡µé¢ã€ä¸ã€Œè§†å›¾ã€â€”â€”ã€Œé¡µé¢ã€æ˜¯ä¸ URL ç›¸å¯¹åº”çš„ï¼Œå¯ä»¥è®¤ä¸ºä¸€ä¸ª URL å°±æ˜¯ä¸€ä¸ªã€Œé¡µé¢ã€ï¼›ã€Œè§†å›¾ã€æ˜¯æ•°æ®é›†åˆï¼ˆåˆ—è¡¨æˆ–å¯¹è±¡ï¼‰çš„å‘ˆç°ï¼Œä¸€ä¸ªé¡µé¢åŒ…å«ä¸€ä¸ªåŠä»¥ä¸Šæ•°é‡çš„è§†å›¾ã€‚</p> <p>ã€Œè§†å›¾ã€å¸¸è§çš„å‘ˆç°å½¢å¼æœ‰è¡¨æ ¼ã€è¡¨å•ï¼ˆè¯»ã€å†™çŠ¶æ€ï¼‰ã€å…¶ä»–ç±»å‹çš„åˆ—è¡¨ã€‚</p> <p>åœ¨é‡æ„å’Œæ¥æ–°éœ€æ±‚æ—¶åŸºæœ¬è¦ä»¥æŸå—ç‰‡æ®µæ˜¯ä¸æ˜¯ä¸€ä¸ªåˆ—è¡¨æˆ–è¡¨å•æ¥æ‹†åˆ†å‡ºè§†å›¾ã€‚ä¾‹å¦‚ï¼šæœ‰çš„é¡µé¢ä¼šæœ‰å¤šä¸ªé€‰é¡¹å¡æˆ–åˆ—è¡¨æ¨¡å¼åˆ‡æ¢å™¨å»åˆ‡æ¢åˆ—è¡¨çš„å±•ç¤ºï¼Œæ¯ä¸ª/ç§åˆ—è¡¨å°±æ˜¯ä¸€ä¸ªè§†å›¾ã€‚</p> <h4 id="section-13">è§†å›¾é…ç½®åŒ–</h4> <p>é™¤äº†å¸¸è§„çš„å¼€å‘æ–¹å¼ä¹‹å¤–ï¼Œæä¾›ä¸€ç§é€šè¿‡é…ç½®åŠ¨æ€ç”Ÿæˆè§†å›¾çš„æ–¹å¼ã€‚</p> <p>è¡¨æ ¼è§†å›¾ï¼š</p> <figure class="highlight"><pre><code class="language-ts" data-lang="ts"><span></span><span class="k">import</span> <span class="p">{</span> <span class="nx">createTableView</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@/utils/view&#39;</span><span class="p">;</span>

<span class="k">import</span> <span class="kr">module</span><span class="nx">Context</span> <span class="kr">from</span> <span class="s1">&#39;../../context&#39;</span><span class="p">;</span>

<span class="k">import</span> <span class="nx">Search</span> <span class="kr">from</span> <span class="s1">&#39;./Search.vue&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">TitleField</span> <span class="kr">from</span> <span class="s1">&#39;./TitleField.vue&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">EpisodesField</span> <span class="kr">from</span> <span class="s1">&#39;./EpisodesField.vue&#39;</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">createTableView</span><span class="p">(</span><span class="kr">module</span><span class="nx">Context</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">fields</span><span class="o">:</span> <span class="p">[</span> <span class="c1">// è¦å±•ç¤ºçš„è¡¨æ ¼æ•°æ®åˆ—</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;æ ‡é¢˜&#39;</span><span class="p">,</span> <span class="nx">render</span>: <span class="kt">TitleField</span><span class="p">,</span> <span class="nx">config</span><span class="o">:</span> <span class="p">{</span> <span class="nx">width</span><span class="o">:</span> <span class="s1">&#39;300&#39;</span> <span class="p">}</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;ç®€ä»‹&#39;</span> <span class="p">},</span>
    <span class="p">{</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;episodes&#39;</span><span class="p">,</span>
      <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;é›†æ•°&#39;</span><span class="p">,</span>
      <span class="nx">render</span>: <span class="kt">EpisodesField</span><span class="p">,</span>
      <span class="nx">config</span><span class="o">:</span> <span class="p">{</span> <span class="nx">width</span><span class="o">:</span> <span class="s1">&#39;60&#39;</span><span class="p">,</span> <span class="nx">align</span><span class="o">:</span> <span class="s1">&#39;center&#39;</span> <span class="p">},</span>
    <span class="p">},</span>
  <span class="p">],</span>
  <span class="nx">actions</span><span class="o">:</span> <span class="p">[</span> <span class="c1">// è§†å›¾æ‹¥æœ‰çš„æ“ä½œæŒ‰é’®ï¼Œæœ‰çš„ä¼šæ˜¾ç¤ºåœ¨è¡¨æ ¼å¤–éƒ¨ï¼Œæœ‰çš„ä¼šæ˜¾ç¤ºåœ¨æ“ä½œåˆ—ä¸­ï¼Œå¯ä»¥è¿›è¡Œæƒé™æ§åˆ¶</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;gotoCreateFormView&#39;</span><span class="p">,</span> <span class="nx">authority</span><span class="o">:</span> <span class="s1">&#39;animation:edit&#39;</span><span class="p">,</span> <span class="nx">primary</span>: <span class="kt">true</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;deleteList&#39;</span><span class="p">,</span> <span class="nx">authority</span><span class="o">:</span> <span class="s1">&#39;animation:edit&#39;</span> <span class="p">},</span>
    <span class="s1">&#39;gotoDetailView&#39;</span><span class="p">,</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;gotoEditFormView&#39;</span><span class="p">,</span> <span class="nx">authority</span><span class="o">:</span> <span class="s1">&#39;animation:edit&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;deleteOne&#39;</span><span class="p">,</span> <span class="nx">authority</span><span class="o">:</span> <span class="s1">&#39;animation:edit&#39;</span> <span class="p">},</span>
  <span class="p">],</span>
  <span class="nx">search</span>: <span class="kt">Search</span><span class="p">,</span> <span class="c1">// è§†å›¾çš„æœç´¢éƒ¨åˆ†</span>
  <span class="nx">config</span><span class="o">:</span> <span class="p">{</span> <span class="nx">checkable</span>: <span class="kt">true</span><span class="p">,</span> <span class="nx">operationColumnWidth</span>: <span class="kt">250</span> <span class="p">},</span> <span class="c1">// è§†å›¾æ˜¾ç¤ºä¸Šçš„ä¸€äº›é…ç½®</span>
  <span class="nx">getList</span><span class="o">:</span> <span class="s1">&#39;getAnimationList&#39;</span><span class="p">,</span>
  <span class="nx">deleteOne</span><span class="o">:</span> <span class="s1">&#39;deleteAnimationBy&#39;</span><span class="p">,</span>
  <span class="nx">deleteList</span><span class="o">:</span> <span class="s1">&#39;deleteAnimationListBy&#39;</span><span class="p">,</span>
<span class="p">});</span></code></pre></figure> <p>è¯¦æƒ…è§†å›¾ï¼š</p> <figure class="highlight"><pre><code class="language-ts" data-lang="ts"><span></span><span class="k">import</span> <span class="p">{</span> <span class="nx">createDetailView</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@/utils/view&#39;</span><span class="p">;</span>

<span class="k">import</span> <span class="kr">module</span><span class="nx">Context</span> <span class="kr">from</span> <span class="s1">&#39;../../context&#39;</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">createDetailView</span><span class="p">(</span><span class="kr">module</span><span class="nx">Context</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">fields</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;æ ‡é¢˜&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;ç®€ä»‹&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;episodes&#39;</span><span class="p">,</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;å‰§é›†&#39;</span> <span class="p">},</span>
  <span class="p">],</span>
  <span class="nx">getOne</span><span class="o">:</span> <span class="s1">&#39;getAnimationById&#39;</span><span class="p">,</span>
<span class="p">});</span></code></pre></figure> <p>å­—æ®µæè¿°å™¨ï¼š</p> <figure class="highlight"><pre><code class="language-ts" data-lang="ts"><span></span><span class="kr">type</span> <span class="nx">FieldDescriptor</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">name</span>: <span class="kt">string</span><span class="p">;</span> <span class="c1">// ç”¨äºå–å€¼çš„ key</span>
  <span class="nx">label?</span>: <span class="kt">string</span><span class="p">;</span> <span class="c1">// ç”¨äºæ˜¾ç¤ºçš„æ–‡æœ¬</span>
  <span class="nx">required?</span>: <span class="kt">boolean</span><span class="p">;</span> <span class="c1">// æ˜¯å¦å¿…éœ€</span>
  <span class="nx">render?</span>: <span class="kt">string</span> <span class="o">|</span> <span class="nx">VueConstructor</span> <span class="o">|</span> <span class="nx">CellRenderer</span><span class="o">&lt;</span><span class="nx">TableColumn</span><span class="o">&gt;</span><span class="p">;</span> <span class="c1">// è¦æ¸²æŸ“çš„ç»„ä»¶</span>
  <span class="nx">config?</span>: <span class="kt">FieldConfig</span><span class="p">;</span> <span class="c1">// ç”¨äºè¡¨æ ¼åˆ—æˆ–è¡¨å•å­—æ®µç»„ä»¶çš„é…ç½®</span>
<span class="p">};</span></code></pre></figure> <p>åŠ¨ä½œæè¿°å™¨ï¼š</p> <figure class="highlight"><pre><code class="language-ts" data-lang="ts"><span></span><span class="kr">type</span> <span class="nx">ActionDescriptor</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">name?</span>: <span class="kt">string</span><span class="p">;</span> <span class="c1">// ç”¨äºæŸ¥æ‰¾å·²æ³¨å†ŒåŠ¨ä½œçš„å”¯ä¸€æ ‡è¯†</span>
  <span class="nx">context</span><span class="o">?:</span> <span class="s1">&#39;free&#39;</span> <span class="o">|</span> <span class="s1">&#39;single&#39;</span> <span class="o">|</span> <span class="s1">&#39;batch&#39;</span> <span class="o">|</span> <span class="s1">&#39;both&#39;</span><span class="p">;</span> <span class="c1">// å½±å“åŠ¨ä½œæ˜¾ç¤ºä½ç½®å’Œæ‰§è¡Œçš„ä¸Šä¸‹æ–‡ç±»å‹</span>
  <span class="nx">authority?</span>: <span class="kt">string</span><span class="p">;</span> <span class="c1">// æ“ä½œæƒé™æ§åˆ¶æ ‡è¯†</span>
  <span class="nx">text?</span>: <span class="kt">string</span><span class="p">;</span> <span class="c1">// ç”¨äºæ˜¾ç¤ºçš„æ–‡æœ¬</span>
  <span class="nx">primary?</span>: <span class="kt">boolean</span><span class="p">;</span> <span class="c1">// æ˜¯å¦ä¸ºä¸»è¦æ“ä½œ</span>
  <span class="nx">danger?</span>: <span class="kt">boolean</span><span class="p">;</span> <span class="c1">// æ˜¯å¦ä¸ºå±é™©æ“ä½œï¼Œä¼šè¿›è¡ŒäºŒæ¬¡ç¡®è®¤ï¼Œå¯é€šè¿‡ `confirm` è‡ªå®šä¹‰æç¤ºæ–‡æœ¬</span>
  <span class="nx">confirm?</span>: <span class="kt">boolean</span> <span class="o">|</span> <span class="kt">string</span><span class="p">;</span> <span class="c1">// æ˜¯å¦éœ€è¦äºŒæ¬¡ç¡®è®¤åŠæç¤ºæ–‡æœ¬</span>
  <span class="nx">render</span><span class="o">?:</span> <span class="s1">&#39;button&#39;</span> <span class="o">|</span> <span class="s1">&#39;link&#39;</span> <span class="o">|</span> <span class="nx">VueConstructor</span><span class="p">;</span> <span class="c1">// è¦æ¸²æŸ“çš„ç»„ä»¶</span>
  <span class="nx">config?</span>: <span class="kt">ActionConfig</span><span class="p">;</span> <span class="c1">// ç”¨äºè¦æ¸²æŸ“çš„ç»„ä»¶çš„é…ç½®</span>
  <span class="nx">execute</span><span class="o">?:</span> <span class="o">&lt;</span><span class="nx">ViewContext</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">viewContext</span>: <span class="kt">ViewContext</span><span class="p">,</span> <span class="nx">vm</span>: <span class="kt">Vue</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span> <span class="o">|</span> <span class="nx">any</span><span class="p">;</span> <span class="c1">// è¦æ‰§è¡Œçš„é€»è¾‘</span>
<span class="p">};</span></code></pre></figure> <p>åŸºç¡€çš„è§†å›¾æè¿°å™¨ï¼š</p> <figure class="highlight"><pre><code class="language-ts" data-lang="ts"><span></span><span class="kr">type</span> <span class="nx">ViewDescriptor</span><span class="o">&lt;</span><span class="nx">ConfigType</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">search?</span>: <span class="kt">SearchDescriptor</span> <span class="o">|</span> <span class="nx">VueConstructor</span><span class="p">;</span> <span class="c1">// è¦æ¸²æŸ“çš„æœç´¢</span>
  <span class="nx">fields</span>: <span class="kt">FieldDescriptor</span><span class="p">[];</span> <span class="c1">// æ•°æ®åˆ—æˆ–è¡¨å•å­—æ®µçš„æè¿°</span>
  <span class="nx">actions</span><span class="o">?:</span> <span class="p">(</span><span class="nx">ActionDescriptor</span> <span class="o">|</span> <span class="kt">string</span><span class="p">)[];</span> <span class="c1">// æ‹¥æœ‰çš„æ“ä½œæŒ‰é’®</span>
  <span class="nx">actionsAuthority?</span>: <span class="kt">string</span><span class="p">;</span> <span class="c1">// é›†ä¸­æ§åˆ¶æ“ä½œæŒ‰é’®çš„æƒé™ï¼Œä¸æŒ‡å®šåˆ™æ¯ä¸ªæ“ä½œæŒ‰é’®åˆ†æ§ï¼Œæ€»æ§å’Œåˆ†æ§åªèƒ½é€‰å…¶ä¸€</span>
  <span class="nx">config?</span>: <span class="kt">ConfigType</span><span class="p">;</span> <span class="c1">// è§†å›¾æ˜¾ç¤ºä¸Šçš„ä¸€äº›é…ç½®</span>
<span class="p">};</span></code></pre></figure> <h2 id="section-14">è®¾è®¡</h2> <h3 id="section-15">é—®ç­”åº“è¡¨å•/è¯¦æƒ…é¡µ</h3> <p>é—®ç­”åº“çš„è¡¨å•é¡µä¸è¯¦æƒ…é¡µæ˜¯åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œå®ç°çš„ï¼Œå¹¶ä¸”é—®é¢˜ä¸ç­”æ¡ˆæ‚ç³…åœ¨ä¸€èµ·ï¼Œå®é™…ä¸Šå¯ä»¥è®¤ä¸ºè¿™ä¸ªé¡µé¢å°±æ˜¯ç­”æ¡ˆçš„è¡¨å•é¡µä¸è¯¦æƒ…é¡µï¼š</p> <p><img src="/assets/docs/kpde9sg0-l96rfonc/detail-and-form-of-question-and-answer-234d780a6daeca6c79b97cbab61d620e27d6928a4532e7b453c502b170498e3e.png" alt="" /></p> <h4 id="section-16">ç±»å‹å®šä¹‰</h4> <figure class="highlight"><pre><code class="language-ts" data-lang="ts"><span></span><span class="kd">interface</span> <span class="nx">Dimension</span> <span class="p">{}</span>

<span class="kd">interface</span> <span class="nx">CommandParam</span> <span class="p">{}</span>

<span class="kd">interface</span> <span class="nx">Command</span> <span class="p">{</span>
  <span class="nx">code</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="nx">label</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="nx">params</span>: <span class="kt">CommandParam</span><span class="p">[];</span>
<span class="p">}</span>

<span class="kd">interface</span> <span class="nx">Answer</span> <span class="p">{</span>
  <span class="nx">content</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="nx">remark</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="nx">dimensions</span>: <span class="kt">Dimension</span><span class="p">[];</span>
  <span class="nx">commands</span>: <span class="kt">Command</span><span class="p">[];</span>
  <span class="nx">approval</span><span class="o">:</span> <span class="s1">&#39;pending&#39;</span> <span class="o">|</span> <span class="s1">&#39;passed&#39;</span> <span class="o">|</span> <span class="s1">&#39;not-passed&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">interface</span> <span class="nx">Question</span> <span class="p">{</span>
  <span class="nx">title</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="nx">category</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="nx">tags</span>: <span class="kt">string</span><span class="p">[];</span>
  <span class="nx">recommendationEnabled</span>: <span class="kt">boolean</span><span class="p">;</span>
  <span class="nx">searchEnabled</span>: <span class="kt">boolean</span><span class="p">;</span>
  <span class="nx">matchAllEnabled</span>: <span class="kt">boolean</span><span class="p">;</span>
  <span class="nx">answers</span>: <span class="kt">Answer</span><span class="p">[];</span>
<span class="p">}</span></code></pre></figure> <h4 id="section-17">æ–‡ä»¶æ‹†åˆ†</h4> <p>å°† <code>knowledge</code> æ¨¡å— <code>views/knowledge-detail</code> æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶åœ¨ <code>question-and-answer</code> æ¨¡å—ä¸‹æ‹†åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªè§†å›¾ï¼š</p> <figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>src/domain
   â””â”€â”€ question-and-answer
       â””â”€â”€ views
           â”œâ”€â”€ answer-detail
           â”‚   â”œâ”€â”€ AnswerDetail.vue
           â”‚   â””â”€â”€ index.ts
           â”œâ”€â”€ answer-form
           â”‚   â”œâ”€â”€ AnswerForm.vue
           â”‚   â””â”€â”€ index.ts
           â”œâ”€â”€ question-and-answer-data-detail
           â”‚   â”œâ”€â”€ AnswerListField.vue
           â”‚   â”œâ”€â”€ QuestionAndAnswerDataDetail.vue
           â”‚   â””â”€â”€ index.ts
           â””â”€â”€ question-form
               â””â”€â”€ index.ts</code></pre></figure> <p>å¹¶æŠŠç­”æ¡ˆæŒ‡ä»¤ç›¸å…³çš„è½¬ç§»åˆ° <code>command</code> æ¨¡å—ï¼š</p> <figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>src/domain
   â””â”€â”€ command
       â””â”€â”€ views
           â”œâ”€â”€ command-data-form
           â”‚   â”œâ”€â”€ CommandParamListField.vue
           â”‚   â””â”€â”€ index.ts
           â””â”€â”€ command-data-list
               â””â”€â”€ index.ts</code></pre></figure> <h4 id="section-18">æ•°æ®æµ</h4> </div> <footer class="Article-footer col-md-3"><section class="Widget Widget--toc"> <div class="Widget-header"> <h2 class="Widget-title">ç›®å½•</h2> </div> <div class="Widget-body"></div> </section> </footer> </article> </ourai-doc> <script type="text/javascript" src="/assets/pages/doc-c880dc4660dee6b589b91fa90d96d4362f806002998d7fba77f76c8db76c973d.js"></script><script type="text/javascript" src="/assets/components-a266f21fe1dfd61bebf40e74872cbf901eb3e201f7d33e9e5d5af9a55f4b24ea.js"></script> <script type="text/javascript" src="/assets/initializers/time-8d7a529a66ae6cb53c2283d21fd6a12c538b8473dd5bd76458366d09adce7bf6.js"></script><script type="text/javascript" src="/assets/initializers/lazyload-44b7df8a9282d598284d522e64d6be9ac88d466f3c4a734a514303e99347b2c9.js"></script> </body> </html>
