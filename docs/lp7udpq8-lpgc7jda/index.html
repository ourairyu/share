<!DOCTYPE html> <html lang="zh-CN" dir="ltr"> <head> <meta charset="UTF-8"> <!-- SEO --> <title>梦天新零售V2.0版本</title> <meta property="og:title" content="梦天新零售V2.0版本"> <meta name="description" content="项目安排"> <meta property="og:description" content="项目安排"> <link rel="canonical" href="https://s.ourai.ws/docs/lp7udpq8-lpgc7jda/"> <meta property="og:url" content="https://s.ourai.ws/docs/lp7udpq8-lpgc7jda/"> <meta property="og:site_name" content="欧雷共享的内容"> <script type="application/ld+json"> { "@context" : "http://schema.org", "@type" : "WebSite", "name" : "欧雷共享的内容", "url" : "https://s.ourai.ws" } </script> <meta property="og:type" content="article"> <meta property="article:published_time" content="2023-11-21T12:34:56+08:00"> <link rel="prev" href="https://s.ourai.ws/docs/lhbmeuk0-lhbmgsa4/" title="家庭事务"> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "NewsArticle", "headline": "梦天新零售V2.0版本", "image": null, "datePublished": "2023-11-21T12:34:56+08:00", "description": "项目安排" } </script> <link rel="author" href="https://s.ourai.ws"> <!-- 页面渲染兼容性 --> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="renderer" content="webkit"> <meta name="viewport" content="width=device-width,initial-scale=1.0"> <meta name="theme-color" content="#0871ab"> <link rel="icon" href="/assets/favicon-3e749ca030e3b71eb2662d947c789061d2da9e0f4ee5f3360cfa9ccbe053c8ba.ico"> <!-- 静态资源 --> <link type="text/css" rel="stylesheet" href="/assets/disqusjs.min-b077139304675330d06888b873bd88158951637593a3c17c4674bc855caf71af.css"> <link type="text/css" rel="stylesheet" href="/assets/global-b623500154e70cdef18bd463a0ef409c46da6d1ad99756cf169ddb354874bcbc.css"> <link type="text/css" rel="stylesheet" href="/assets/pages/post-d5f1244d69bfc31e3c7b73b16140ed8a09f0b5af40515abeae522bee80e92ec9.css"><link type="text/css" rel="stylesheet" href="/assets/pages/doc-15661195aff8193ee3a0adaa519b494768847c03556ce215fa6c17d46d273872.css"> <script type="text/javascript" src="/assets/statistic-52fc2b63e026fefad6d243ba0e5c7eb4179734e8d7b817d5ba5659c023f0f71f.js"></script> <script type="text/javascript" src="/assets/global-b3a80dd53acf48ad7228d6fd741dba15d3845cbc3783bdbbf7244151a45628aa.js"></script> <!--[if lt IE 9]> <script type="text/javascript" src="/assets/support_ie8-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.js"></script> <![endif]--> </head> <body class="Page" itemscope itemtype="http://schema.org/WebPage"> <main class="Page-content"> <div id="sharedDoc" class="container"> <p style="height: 100%; display: flex; align-items: center; justify-content: center; font-size: 8rem;">🙅🏻‍♂️</p> </div> </main> <ourai-doc id="__ourai_doc__" style="display: none;" data-code="oeb2"> <article class="Page-main Article"> <header class="Article-header"> <h1 class="Article-title">梦天新零售V2.0版本</h1> <p><a href="https://linxoid.com/ourai/" target="_blank" rel="external nofollow">欧雷</a> 发表于 <time datetime="2023-11-21T12:34:56+08:00">2023-11-21 12:34:56</time></p> </header> <div class="Article-content col-md-9"><h2 id="section">项目安排</h2> <table> <thead> <tr> <th>项目</th> <th>内容</th> </tr> </thead> <tbody> <tr> <td>时间</td> <td>2023 年 11 月 27 日至 2023 年 12 月 8 日</td> </tr> <tr> <td>优先级</td> <td>高</td> </tr> <tr> <td>人员</td> <td>产品：叶青<br />后端：朱岩、七六<br />前端：<a href="https://yaol.in/" title="查看林垚的个人主页" target="_blank" rel="external nofollow">林垚</a></td> </tr> <tr> <td>需求</td> <td><a href="https://www.yuque.com/uhckkf/ep62ny/tfzz61s2laoai7p7" target="_blank" rel="external nofollow">MT新零售V2.0版本</a></td> </tr> <tr> <td>代码</td> <td><a href="http://gitlab.huankehudong.com/core-sales-front/qw-admin-front" target="_blank" rel="external nofollow">core-sales-front/qw-admin-front</a>、<a href="http://gitlab.huankehudong.com/core-sales-front/qw-front" target="_blank" rel="external nofollow">core-sales-front/qw-front</a></td> </tr> <tr> <td>其他</td> <td>设计图（<a href="https://lanhuapp.com/link/#/invite?sid=lXIxBgH7" target="_blank" rel="external nofollow">企微投放客户</a>、<a href="https://lanhuapp.com/link/#/invite?sid=lx0ZR37M" target="_blank" rel="external nofollow">企微跟进页面</a>）、接口文档（<a href="https://apifox.com/apidoc/shared-01df2e54-fd9b-4935-bacd-16ac438759ba/api-125712236" target="_blank" rel="external nofollow">重点关注事项</a>、<a href="https://apifox.com/apidoc/shared-01df2e54-fd9b-4935-bacd-16ac438759ba/api-125720714" target="_blank" rel="external nofollow">关键数据指标</a>、<a href="https://apifox.com/apidoc/shared-01df2e54-fd9b-4935-bacd-16ac438759ba/api-125720869" target="_blank" rel="external nofollow">数据明细列表</a>、<a href="https://apifox.com/apidoc/shared-01df2e54-fd9b-4935-bacd-16ac438759ba/api-125723110" target="_blank" rel="external nofollow">数据明细导出</a>）、关联需求（<a href="https://www.yuque.com/uhckkf/ep62ny/rf88m3g1yyfh6zl1" target="_blank" rel="external nofollow">投放线索数据看板</a>）</td> </tr> </tbody> </table> <h2 id="section-1">需求分析</h2> <p>实现时的基本原则是在《<a href="https://www.yuque.com/uhckkf/ep62ny/rf88m3g1yyfh6zl1" target="_blank" rel="external nofollow">投放线索数据看板</a>》已完成事项上做增量开发，本次改动涉及的做修改，不涉及的则不变，因而<strong>修复那个需求所产生的 bug 不在本次工作量的估算范围内</strong>。</p> <h3 id="section-2">后台</h3> <p><a href="https://modao.cc/proto/cPuG8Z1ks4eix5IetA9OW0/sharing?view_mode=device" target="_blank" rel="external nofollow">后台相关的</a>大致整理如下（「功能」中加粗的为需要后端接口支持，斜体的是 SaaS 和梦天都要有的）：</p> <table> <thead> <tr> <th>模块</th> <th>功能</th> <th>备注</th> </tr> </thead> <tbody> <tr> <td>投放管理-投放概况</td> <td><em>重点关注事项-立即分配</em></td> <td>《<a href="https://www.yuque.com/uhckkf/ep62ny/rf88m3g1yyfh6zl1" target="_blank" rel="external nofollow">投放线索数据看板</a>》未完成功能</td> </tr> <tr> <td> </td> <td><em><strong>重点关注事项-提醒员工</strong></em></td> <td>《<a href="https://www.yuque.com/uhckkf/ep62ny/rf88m3g1yyfh6zl1" target="_blank" rel="external nofollow">投放线索数据看板</a>》未完成功能</td> </tr> <tr> <td> </td> <td><em>筛选条件-时间段</em></td> <td>-</td> </tr> <tr> <td> </td> <td><em><strong>筛选条件-渠道</strong></em></td> <td>-</td> </tr> <tr> <td> </td> <td><em><strong>关键数据指标</strong></em></td> <td>新增显示的字段，详见《<a href="https://www.yuque.com/uhckkf/ep62ny/hscxm82iy353n3ah" target="_blank" rel="external nofollow">投放概况数据看板</a>》</td> </tr> <tr> <td> </td> <td><em><strong>数据明细-数据列</strong></em></td> <td>「所属销区」（新增）、「经销商」和「线索级别」（新增）支持筛选</td> </tr> <tr> <td> </td> <td><em>数据明细-总计</em></td> <td>-</td> </tr> <tr> <td> </td> <td><em>数据明细-导出</em></td> <td>-</td> </tr> <tr> <td>投放管理-线索管理</td> <td><strong>数据表格-数据列</strong></td> <td>新增或修改 15 个字段，详见《<a href="https://www.yuque.com/uhckkf/ep62ny/fztkexfyhfy6yizh" target="_blank" rel="external nofollow">线索信息表（V2.1）</a>》</td> </tr> <tr> <td> </td> <td><strong>数据表格-清洗操作</strong></td> <td>新增「清洗附件」字段</td> </tr> </tbody> </table> <p>待明确事项概要：</p> <ul> <li>改动版本 <ul> <li>线索管理新增字段与清洗附件</li> <li>投放概况</li> <li>数据分析</li> </ul> </li> <li>功能 <ul> <li>投放概况 <ul> <li>重点关注事项中立即分配与提醒员工入口出现规则 <ul> <li>如何判断是否有下游企业</li> <li>「我的线索页面」是哪个页面</li> <li>梦天版本好像比原来的少一个加微的</li> </ul> </li> <li>提醒员工抽屉中具体显示内容</li> <li>全局筛选条件中渠道的传参</li> <li><del>数据明细中的统计字段是否与关键数据指标中完全相同</del> <em>不同</em></li> <li>数据明细新增字段与读取键</li> <li><del>数据明细后端接口是否进行了分页处理</del> <em>需要分页</em></li> <li><del>数据明细筛选条件的展现与交互方式</del> <em>自定义</em></li> </ul> </li> <li>数据分析 <ul> <li><del>有啥改动？</del> <em>没有</em></li> </ul> </li> </ul> </li> </ul> <p>部分详细说明为——</p> <h4 id="section-3">投放概况</h4> <h5 id="section-4">全局筛选条件</h5> <p>时间段快捷选项中除了「昨日」、「本月」、「本年」、「自定义」之外，还可考虑加入「本周」；日期拾取器在未选择「自定义」时应当是禁用状态。</p> <h5 id="section-5">关键数据指标</h5> <p>新增「平均接单时长」、「测量率」、「预订单数」和「预订单成交率」，且在梦天版本中将以下指标文案改变：</p> <table> <thead> <tr> <th>SaaS 版本</th> <th>梦天版本</th> </tr> </thead> <tbody> <tr> <td>总部已下发</td> <td>派单数</td> </tr> <tr> <td>总部未下发</td> <td>未派单数</td> </tr> <tr> <td>经销商已处理</td> <td>接单数</td> </tr> <tr> <td>经销商未处理</td> <td>未接单数</td> </tr> <tr> <td>导购已跟进</td> <td>跟进数</td> </tr> <tr> <td>导购未跟进</td> <td>未跟进数</td> </tr> <tr> <td>已签单</td> <td>签单数</td> </tr> <tr> <td>未签单</td> <td>未签单数</td> </tr> <tr> <td>已交付</td> <td>已交付数</td> </tr> <tr> <td>未交付</td> <td>未交付数</td> </tr> <tr> <td>已加微信</td> <td>已加微信数</td> </tr> <tr> <td>未加微信</td> <td>未加微信数</td> </tr> <tr> <td>已进店</td> <td>进店数</td> </tr> <tr> <td>未进店</td> <td>未进店数</td> </tr> <tr> <td>已测量</td> <td>量尺数</td> </tr> <tr> <td>未测量</td> <td>未量尺数</td> </tr> <tr> <td>已流失</td> <td>已流失数</td> </tr> </tbody> </table> <h5 id="section-6">数据明细筛选条件</h5> <p>需求中筛选触发器位于表头列，如下图所示：</p> <figure> <img src="/assets/docs/lp7udpq8-lpgc7jda/filters-in-table-head-f868eb7e2a8e1ede481b268a5945d7c1278c48cae20d34b075cd5a643ecf453d.png" alt="表头筛选" /> <figcaption>表头筛选</figcaption> </figure> <p>鉴于此，有本地和远程两种实现方式——</p> <p>若用本地筛选，可通过给 <code>&lt;el-table-column&gt;</code> 设置 <code>filters</code> 和 <code>filter-method</code> 属性「激活」<a href="https://element.eleme.io/#/zh-CN/component/table#shai-xuan" target="_blank" rel="external nofollow">表头筛选项</a>；可用筛选项在获取列表数据后计算相应列每行不重复的值得到。</p> <p>这种方式的局限主要在于：</p> <ul> <li>筛选项来自已获取数据，若要看到真正全部且有效的选项，<strong>得拿到全量数据</strong>，需求要表格分页的话则不满足；</li> <li>直接动态修改 <code>&lt;el-table-column&gt;</code> 的属性貌似没用，得用 <code>v-if</code> 控制 <code>&lt;el-table&gt;</code> 待筛选项准备好后再开始渲染才能正常显示，</li> </ul> <p>远程的方式得后端接口加参数，相当于把常规放在类表单字段的过滤器放进了表头中，需要确认具体的交互形式后自定义实现，局限之处有：</p> <ul> <li>若是弹窗类的交互，用户体验欠佳；</li> <li>展示全部可选数据也许没啥意义，<strong>并非每个可选项都有对应的实际数据</strong>。</li> </ul> <h2 id="section-7">设计</h2> <p>引入类似于国际化或主题的配置方案以支持不同版本间的「部分」定制化需求——在 SaaS 版本中有套标准的、默认的配置，定制版有需要时在相应的 <a href="https://www.dotenv.org/" target="_blank" rel="external nofollow"><code>.env</code></a> 文件中设置以进行覆盖。</p> <p>在 <code>src/config/app.js</code> 中定义默认配置对象，结构大致为：</p> <figure class="highlight"><pre><code class="language-js" data-lang="js"><span></span><span class="p">{</span>
  <span class="s2">&quot;sys&quot;</span><span class="o">:</span> <span class="p">{},</span>  <span class="c1">// 系统层面配置</span>
  <span class="s2">&quot;biz&quot;</span><span class="o">:</span> <span class="p">{</span>  <span class="c1">// 业务层面配置</span>
    <span class="s2">&quot;bizModuleName&quot;</span><span class="o">:</span> <span class="p">{}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure> <p>在 <code>src/utils/config.js</code> 中实现三个用于获取配置的全局工具函数：</p> <figure class="highlight"><pre><code class="language-js" data-lang="js"><span></span><span class="kd">function</span> <span class="nx">getAppConfig</span><span class="p">(</span><span class="nx">configKey</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// `configKey` 为 `&#39;a.b.c.d&#39;` 的形式，参考 https://lodash.com/docs/#get</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">getSysConfig</span><span class="p">(</span><span class="nx">sysConfigKey</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// `getAppConfig()` 的便捷方法，</span>
  <span class="c1">// `sysConfigKey` 相当于省略了 `&#39;sys.&#39;`</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">getBizConfig</span><span class="p">(</span><span class="nx">bizConfigKey</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// `getAppConfig()` 的便捷方法，</span>
  <span class="c1">// `bizConfigKey` 相当于省略了 `&#39;biz.&#39;`</span>
<span class="p">}</span></code></pre></figure> </div> <footer class="Article-footer col-md-3"><section class="Widget Widget--toc"> <div class="Widget-header"> <h2 class="Widget-title">目录</h2> </div> <div class="Widget-body"></div> </section> </footer> </article> </ourai-doc> <script type="text/javascript" src="/assets/pages/doc-c880dc4660dee6b589b91fa90d96d4362f806002998d7fba77f76c8db76c973d.js"></script><script type="text/javascript" src="/assets/components-a266f21fe1dfd61bebf40e74872cbf901eb3e201f7d33e9e5d5af9a55f4b24ea.js"></script> <script type="text/javascript" src="/assets/initializers/time-8d7a529a66ae6cb53c2283d21fd6a12c538b8473dd5bd76458366d09adce7bf6.js"></script><script type="text/javascript" src="/assets/initializers/lazyload-44b7df8a9282d598284d522e64d6be9ac88d466f3c4a734a514303e99347b2c9.js"></script> </body> </html>
